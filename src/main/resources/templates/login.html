<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .login-container {
            max-width: 400px;
            margin: 0 auto;
            padding: 2rem;
            background-color: #f8f9fa;
            border-radius: 0.5rem;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
    </style>
</head>
<body>
<div class="container d-flex justify-content-center align-items-center" style="height: 100vh;">
    <div class="login-container">
        <h2 class="text-center mb-4">로그인</h2>
        <form th:action="@{/login}" method="post">
            <div class="mb-3">
                <label for="username" class="form-label">아이디</label>
                <input type="text" class="form-control" id="username" name="username" required>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">암호</label>
                <input type="password" class="form-control" id="password" name="password" required>
            </div>
            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" value="" id="rememberMe" name="rememberMe">
                <label class="form-check-label" for="rememberMe">
                    로그인 상태 유지
                </label>
            </div>
            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary">로그인</button>
                <a th:href="@{/userreg}" class="btn btn-secondary">회원가입</a>
            </div>
        </form>
    </div>
</div>

<script>
    document.getElementById('rememberMe').addEventListener('change', function() {
        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;
        var rememberMe = this.checked;

        // 쿠키 설정
        if (rememberMe) {
            setCookie('username', username, 7); // 7일 동안 유효한 쿠키 설정
            setCookie('password', password, 7);
        } else {
            deleteCookie('username');
            deleteCookie('password');
        }
    });

    function setCookie(name, value, days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    function deleteCookie(name) {
        document.cookie = name + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
    }
</script>
</body>
</html>
